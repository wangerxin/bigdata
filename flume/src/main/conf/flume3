producer.sources = s
producer.channels = c
producer.sinks = r

# source
producer.sources.s.type = exec
producer.sources.s.command=tail -n 0 -F   /opt/module/flume/task/data.txt
producer.sources.s.deletePolicy=never

# channal
producer.channels.c.type = memory
producer.channels.c.capacity = 1000000
producer.channels.c.transactionCapacity = 1000
#producer.channels.c.type=file
#producer.channels.c.checkpointDir=/usr/local/flumeng/checkpointdir/tcpdir/example_agent
#producer.channels.c.dataDirs=/usr/local/flumeng/datadirs/tddirs/example_agen

# sink
producer.sinks.r.type = hdfs
producer.sinks.r.hdfs.path = hdfs://hadoop102:9000/flume3/%Y-%m-%d/%H
producer.sinks.r.hdfs.batchSize= 1000
producer.sinks.r.hdfs.fileType = DataStream
producer.sinks.r.hdfs.writeFormat =Text
producer.sinks.r.hdfs.rollSize = 0
producer.sinks.r.hdfs.rollCount = 0
producer.sinks.r.hdfs.rollInterval = 600
producer.sinks.r.hdfs.useLocalTimeStamp = true


#Specify the channel the sink should use
producer.sinks.r.channel = c
producer.sources.s.channels = c

预期：每小时一个文件夹，10分钟一个文件
结果：每小时一个文件夹，10分钟一个文件